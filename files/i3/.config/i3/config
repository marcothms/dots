set $mod Mod4
floating_modifier $mod

font pango:SFMono Bold 10

set $bg #2F383E
set $alt #56635f
set $fg #D3C6AA
set $accent #93b259
set $inactive #dfa000
set $alert #e67e80

workspace_layout tabbed

# https://wiki.archlinux.org/index.php/XDG_Autostart
# manage via gnome tweaks
exec --no-startup-id dex-autostart --autostart --environment i3

#
#### Screen(setup)
#

exec_always --no-startup-id ~/.screenlayout/default.sh

exec --no-startup-id light -S 25
bindsym XF86MonBrightnessUp exec --no-startup-id light -A 5
bindsym XF86MonBrightnessDown exec --no-startup-id light -U 5

#
#### Locking
#

exec --no-startup-id xss-lock --transfer-sleep-lock -- xlock \
                                                        -mode space \
                                                        -echokeys \
                                                        -font "-*-*-*-r-*-*-34-*-*-*-*-*-*-*" \
                                                        -planfont "-*-*-*-r-*-*-34-*-*-*-*-*-*-*" \
                                                        -startCmd "dunstctl set-paused true" \
                                                        -endCmd "dunstctl set-paused false"

bindsym $mod+Ctrl+BackSpace exec --no-startup-id loginctl lock-session
bindsym $mod+Ctrl+Shift+BackSpace exec --no-startup-id systemctl suspend

#
#### Input
#

# add 'Option "XkbOptions" "caps:swapescape"' to /etc/X11/xorg.conf.d/00-keyboard.conf
exec_always --no-startup-id setxkbmap eu
exec_always --no-startup-id xinput --set-prop 'pointer:Logitech MX Vertical' 'libinput Accel Profile Enabled' 0, 1
exec_always --no-startup-id xset r rate 250 50

# fcitx5 fcitx5-configtool fcitx5-gtk4 fcitx5-qt fcitx5-mozc
exec --no-startup-id fcitx5

#
#### Networking
#

exec --no-startup-id nm-applet
exec --no-startup-id blueman-applet

#
#### Audio
#

bindsym $mod+a exec --no-startup-id pavucontrol -t 1

#
#### Notifications
#

bindsym Ctrl+space exec --no-startup-id dunstctl close-all
bindsym Ctrl+Shift+space exec --no-startup-id dunstctl history-pop

#
#### Launch programs
#

bindsym $mod+Return exec --no-startup-id alacritty
bindsym $mod+Shift+q kill
bindsym $mod+space exec --no-startup-id dmenu_run \
                                                -m 0 \
                                                -i \
                                                -b \
                                                -l 10 \
                                                -p dmenu \
                                                -fn SFMono-11 \
                                                -nb "#2f383e" \
                                                -nf "#d3c6aa" \
                                                -sb "#93b259" \
                                                -sf "#2f383e"
bindsym $mod+Shift+s exec --no-startup-id flameshot gui

#
#### Control i3
#

bindsym $mod+h focus left
bindsym $mod+j focus down
bindsym $mod+k focus up
bindsym $mod+l focus right

bindsym $mod+Shift+h move left
bindsym $mod+Shift+j move down
bindsym $mod+Shift+k move up
bindsym $mod+Shift+l move right

bindsym $mod+f fullscreen toggle

bindsym $mod+Shift+space floating toggle

bindsym $mod+1 workspace number 1
bindsym $mod+2 workspace number 2
bindsym $mod+3 workspace number 3
bindsym $mod+4 workspace number 4
bindsym $mod+5 workspace number 5
bindsym $mod+6 workspace number 6
bindsym $mod+7 workspace number 7
bindsym $mod+8 workspace number 8
bindsym $mod+9 workspace number 9
bindsym $mod+0 workspace number 10

bindsym $mod+Shift+1 move container to workspace number 1
bindsym $mod+Shift+2 move container to workspace number 2
bindsym $mod+Shift+3 move container to workspace number 3
bindsym $mod+Shift+4 move container to workspace number 4
bindsym $mod+Shift+5 move container to workspace number 5
bindsym $mod+Shift+6 move container to workspace number 6
bindsym $mod+Shift+7 move container to workspace number 7
bindsym $mod+Shift+8 move container to workspace number 8
bindsym $mod+Shift+9 move container to workspace number 9
bindsym $mod+Shift+0 move container to workspace number 10

bindsym $mod+Shift+c reload
bindsym $mod+Shift+r restart

#
#### Default Session
#

for_window [class="firefox"] move to workspace 10
for_window [class="discord"] move to workspace 10
for_window [class="Spotify"] move to workspace 10

workspace 1 output DP-1
workspace 10 output DP-3

# i3-save-tree --workspace 2 > ~/.screenlayout/i3layout.json
# remember to adjust 'swallow'
exec --no-startup-id i3-msg "workspace 10; append_layout ~/.screenlayout/i3layout.json; workspace 1"
exec --no-startup-id firefox
exec --no-startup-id spotify
exec --no-startup-id discord

#
#### Look
#

# class                 border  backgr. text    indicator child_border
client.focused          $bg     $bg     $fg     $bg       $bg
client.focused_inactive $bg     $bg     $alt    $bg       $bg
client.unfocused        $bg     $bg     $alt    $bg       $bg
client.urgent           $bg     $bg     $alert  $bg       $bg

for_window [all] title_window_icon on
default_border none
title_align center

exec_always --no-startup-id feh --bg-scale ~/cloud/images/wallpaper/wallpaper
exec_always --no-startup-id ~/.config/polybar/launch.sh
exec_always --no-startup-id pkill picom && picom

gaps inner 5
